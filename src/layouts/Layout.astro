---
import Contact from "@/components/Contact.astro"
import Footer from "@/components/Footer.astro"
import SectionContainer from "@/components/SectionContainer.astro"
import SEO from "@/components/SEO.astro"
import BackgroundGradient from "@/components/ui/BackgroundGradient.astro"
import GoToTop from "@/components/ui/GoToTop.astro"
import Header from "@/components/ui/Header.astro"
import Toast from "@/components/ui/Toast.astro"
import WhatsAppButton from "@/components/ui/WhatsAppButton.astro"
import type { Preload } from "@/interfaces/preload"
import { getActiveLocale } from "@/locales/index"
import "@fontsource-variable/onest"
import "@fontsource/ubuntu"
import SpeedInsights from "@vercel/speed-insights/astro"
import { ViewTransitions } from "astro:transitions"

interface Props {
	title: string
	description: string
	preload?: Array<Preload>
	canonical?: string
	image?: string
}

const { title, description, preload, canonical, image } = Astro.props
const locale = getActiveLocale(Astro)
---

<!doctype html>
<html lang={locale} translate="no">
	<head>
		<SEO
			locale={locale}
			canonical={canonical}
			description={description}
			image={image}
			preload={preload}
			title={title}
		/>
		<ViewTransitions />
	</head>
	<body class="relative overflow-x-hidden">
		<SpeedInsights />

		<BackgroundGradient />

		<WhatsAppButton />
		<GoToTop />
		<Toast />

		<Header locale={locale} />

		<main>
			<slot />

			<SectionContainer
				id="contact"
				class="section relative w-full px-4 py-20 pt-28 sm:px-6 lg:px-8"
			>
				<Contact locale={locale} />
			</SectionContainer>
		</main>

		<Footer locale={locale} />
	</body>
</html>
<style is:global>
	html {
		font-family: "Onest Variable", "Ubuntu", system-ui, sans-serif;
		background-color: #020617;
		scroll-behavior: smooth;
		scrollbar-gutter: stable;
	}

	code {
		font-family:
			Menlo,
			Monaco,
			Lucida Console,
			Liberation Mono,
			DejaVu Sans Mono,
			Bitstream Vera Sans Mono,
			Courier New,
			monospace;
	}

	@media (prefers-reduced-motion: reduce) {
		html {
			scroll-behavior: auto;
		}
	}

	.fade-up-anim {
		animation: fade-up-animation linear both;
		animation-timeline: view();
		animation-range: entry 10% cover 20%;
	}

	@keyframes fade-up-animation {
		0% {
			opacity: 0;
			translate: 0 50px;
			scale: 0.7;
		}

		100% {
			opacity: 1;
			translate: 0 0;
			scale: 1;
		}
	}

	.fade-left-anim {
		animation: fade-left-animation linear both;
		animation-timeline: view();
		animation-range: entry 10% cover 20%;
	}

	@keyframes fade-left-animation {
		0% {
			opacity: 0;
			translate: 50px 0;
			scale: 0.7;
		}

		100% {
			opacity: 1;
			translate: 0 0;
			scale: 1;
		}
	}

	.fade-right-anim {
		animation: fade-right-animation linear both;
		animation-timeline: view();
		animation-range: entry 10% cover 20%;
	}

	@keyframes fade-right-animation {
		0% {
			opacity: 0;
			translate: -50px 0;
			scale: 0.7;
		}

		100% {
			opacity: 1;
			translate: 0 0;
			scale: 1;
		}
	}
</style>
