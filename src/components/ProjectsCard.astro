---
import GitHub from "@/icons/GitHub.astro"
import Send from "@/icons/Send.astro"
import { getI18N } from "@/locales/index.ts"
import LinkButton from "./LinkButton.astro"

interface Props {
	title: string
	description: string
	imgUrl: string
	projectUrl: string
	tags: {
		name: string
		class: string
		iconColor: string
		icon: any
	}[]
	gitCodeUrl: string
	alt: string
}

const { title, description, imgUrl, projectUrl, tags, gitCodeUrl, alt } = Astro.props
const { currentLocale } = Astro
const i18n = getI18N({ currentLocale })
---

<article
	class="fade-up-anim group flex flex-col space-x-0 space-y-8 md:flex-row md:space-x-8 md:space-y-0"
>
	<div class="md:1/2 w-full">
		<div
			class="relative col-span-6 row-span-5 flex transform flex-col items-center gap-8 overflow-clip rounded-xl border-2 border-slate-800/50 bg-gradient-to-br from-primary/10 via-accent/10 to-primary/5 shadow-lg shadow-accent/5 backdrop-blur-sm transition-all duration-500 ease-in-out sm:hover:border-accent/40 sm:hover:bg-gradient-to-br sm:hover:from-accent/10 sm:hover:via-primary/10 sm:hover:to-accent/10 sm:group-hover:-translate-y-2 sm:group-hover:translate-x-1 sm:group-hover:shadow-2xl sm:group-hover:shadow-accent/20"
		>
			<img
				src={imgUrl}
				alt={alt}
				width="1280"
				height="720"
				decoding="async"
				loading="lazy"
				class="h-56 w-full object-cover object-top transition-all duration-500 sm:h-full sm:scale-110 sm:group-hover:scale-105 sm:group-hover:brightness-110"
			/>
			<div
				class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 transition-opacity duration-500 sm:group-hover:opacity-100"
			>
			</div>
		</div>
	</div>

	<div class="flex w-full flex-col gap-3 md:max-w-lg">
		<h3
			class="bg-gradient-to-r from-slate-200 to-slate-400 bg-clip-text text-2xl font-bold text-transparent transition-all duration-300 sm:group-hover:from-accent sm:group-hover:to-accent/80"
		>
			{title}
		</h3>

		<ul class="mb-2 flex flex-row flex-wrap gap-x-2 gap-y-2">
			{
				tags.map((tag) => (
					<li>
						<span
							class={`flex gap-x-2 rounded-full border border-primary/20 bg-gradient-to-br from-primary/10 to-accent/10 px-3 py-1.5 text-xs font-semibold shadow-sm transition-all duration-300 group-hover:border-accent/30 group-hover:shadow-md group-hover:shadow-accent/10 ${tag.class}`}
						>
							<tag.icon
								class={`size-4 transition-transform duration-300 group-hover:scale-110 ${tag.iconColor}`}
							/>
							{tag.name}
						</span>
					</li>
				))
			}
		</ul>

		<p class="mt-2 h-full text-pretty leading-relaxed text-primary">
			{description}
		</p>

		<footer class="mt-4 flex h-fit w-full items-end justify-start gap-x-4">
			<LinkButton href={projectUrl}>
				<Send class="size-6 transition-transform duration-300 group-hover:translate-x-1" />
				{i18n.SQUINT}
			</LinkButton>

			<LinkButton href={gitCodeUrl}>
				<GitHub class="size-6 transition-transform duration-300 group-hover:scale-110" />
				{i18n.CODE}
			</LinkButton>
		</footer>
	</div>
</article>
